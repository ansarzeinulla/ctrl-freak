{"ast":null,"code":"'use client';\n\nimport _objectSpread from \"/Users/ansarzeinulla/Desktop/negro/widget-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { useState, useCallback } from 'react';\nimport { useDelayGroup, useFloating, autoUpdate, useInteractions, useHover, useFocus, useRole, useDismiss, offset, shift, flip, arrow, inline } from '@floating-ui/react';\nimport { useId, useDidUpdate } from '@mantine/hooks';\nimport { useTooltipGroupContext } from './TooltipGroup/TooltipGroup.context.mjs';\nfunction getDefaultMiddlewares(middlewares) {\n  if (middlewares === void 0) {\n    return {\n      shift: true,\n      flip: true\n    };\n  }\n  const result = _objectSpread({}, middlewares);\n  if (middlewares.shift === void 0) {\n    result.shift = true;\n  }\n  if (middlewares.flip === void 0) {\n    result.flip = true;\n  }\n  return result;\n}\nfunction getTooltipMiddlewares(settings) {\n  const middlewaresOptions = getDefaultMiddlewares(settings.middlewares);\n  const middlewares = [offset(settings.offset)];\n  if (middlewaresOptions.shift) {\n    middlewares.push(shift(typeof middlewaresOptions.shift === \"boolean\" ? {\n      padding: 8\n    } : _objectSpread({\n      padding: 8\n    }, middlewaresOptions.shift)));\n  }\n  if (middlewaresOptions.flip) {\n    middlewares.push(typeof middlewaresOptions.flip === \"boolean\" ? flip() : flip(middlewaresOptions.flip));\n  }\n  middlewares.push(arrow({\n    element: settings.arrowRef,\n    padding: settings.arrowOffset\n  }));\n  if (middlewaresOptions.inline) {\n    middlewares.push(typeof middlewaresOptions.inline === \"boolean\" ? inline() : inline(middlewaresOptions.inline));\n  } else if (settings.inline) {\n    middlewares.push(inline());\n  }\n  return middlewares;\n}\nfunction useTooltip(settings) {\n  var _settings$events, _settings$events2, _settings$events3;\n  const [uncontrolledOpened, setUncontrolledOpened] = useState(settings.defaultOpened);\n  const controlled = typeof settings.opened === \"boolean\";\n  const opened = controlled ? settings.opened : uncontrolledOpened;\n  const withinGroup = useTooltipGroupContext();\n  const uid = useId();\n  const onChange = useCallback(_opened => {\n    setUncontrolledOpened(_opened);\n    if (_opened) {\n      setCurrentId(uid);\n    }\n  }, [uid]);\n  const {\n    x,\n    y,\n    context,\n    refs,\n    placement,\n    middlewareData: {\n      arrow: {\n        x: arrowX,\n        y: arrowY\n      } = {}\n    }\n  } = useFloating({\n    strategy: settings.strategy,\n    placement: settings.position,\n    open: opened,\n    onOpenChange: onChange,\n    middleware: getTooltipMiddlewares(settings),\n    whileElementsMounted: autoUpdate\n  });\n  const {\n    delay: groupDelay,\n    currentId,\n    setCurrentId\n  } = useDelayGroup(context, {\n    id: uid\n  });\n  const {\n    getReferenceProps,\n    getFloatingProps\n  } = useInteractions([useHover(context, {\n    enabled: (_settings$events = settings.events) === null || _settings$events === void 0 ? void 0 : _settings$events.hover,\n    delay: withinGroup ? groupDelay : {\n      open: settings.openDelay,\n      close: settings.closeDelay\n    },\n    mouseOnly: !((_settings$events2 = settings.events) !== null && _settings$events2 !== void 0 && _settings$events2.touch)\n  }), useFocus(context, {\n    enabled: (_settings$events3 = settings.events) === null || _settings$events3 === void 0 ? void 0 : _settings$events3.focus,\n    visibleOnly: true\n  }), useRole(context, {\n    role: \"tooltip\"\n  }),\n  // Cannot be used with controlled tooltip, page jumps\n  useDismiss(context, {\n    enabled: typeof settings.opened === \"undefined\"\n  })]);\n  useDidUpdate(() => {\n    var _settings$onPositionC;\n    (_settings$onPositionC = settings.onPositionChange) === null || _settings$onPositionC === void 0 || _settings$onPositionC.call(settings, placement);\n  }, [placement]);\n  const isGroupPhase = opened && currentId && currentId !== uid;\n  return {\n    x,\n    y,\n    arrowX,\n    arrowY,\n    reference: refs.setReference,\n    floating: refs.setFloating,\n    getFloatingProps,\n    getReferenceProps,\n    isGroupPhase,\n    opened,\n    placement\n  };\n}\nexport { useTooltip };","map":{"version":3,"names":["getDefaultMiddlewares","middlewares","shift","flip","result","_objectSpread","getTooltipMiddlewares","settings","middlewaresOptions","offset","push","padding","arrow","element","arrowRef","arrowOffset","inline","useTooltip","_settings$events","_settings$events2","_settings$events3","uncontrolledOpened","setUncontrolledOpened","useState","defaultOpened","controlled","opened","withinGroup","useTooltipGroupContext","uid","useId","onChange","useCallback","_opened","setCurrentId","x","y","context","refs","placement","middlewareData","arrowX","arrowY","useFloating","strategy","position","open","onOpenChange","middleware","whileElementsMounted","autoUpdate","delay","groupDelay","currentId","useDelayGroup","id","getReferenceProps","getFloatingProps","useInteractions","useHover","enabled","events","hover","openDelay","close","closeDelay","mouseOnly","touch","useFocus","focus","visibleOnly","useRole","role","useDismiss","useDidUpdate","_settings$onPositionC","onPositionChange","call","isGroupPhase","reference","setReference","floating","setFloating"],"sources":["/Users/ansarzeinulla/Desktop/negro/widget-frontend/node_modules/@mantine/core/src/components/Tooltip/use-tooltip.ts"],"sourcesContent":["import { useCallback, useState } from 'react';\nimport {\n  arrow,\n  autoUpdate,\n  flip,\n  inline,\n  offset,\n  shift,\n  useDelayGroup,\n  useDismiss,\n  useFloating,\n  useFocus,\n  useHover,\n  useInteractions,\n  useRole,\n  type Middleware,\n} from '@floating-ui/react';\nimport { useDidUpdate, useId } from '@mantine/hooks';\nimport { FloatingAxesOffsets, FloatingPosition, FloatingStrategy } from '../../utils/Floating';\nimport { type TooltipMiddlewares } from './Tooltip.types';\nimport { useTooltipGroupContext } from './TooltipGroup/TooltipGroup.context';\n\ninterface UseTooltip {\n  position: FloatingPosition;\n  closeDelay?: number;\n  openDelay?: number;\n  onPositionChange?: (position: FloatingPosition) => void;\n  opened?: boolean;\n  defaultOpened?: boolean;\n  offset: number | FloatingAxesOffsets;\n  arrowRef?: React.RefObject<HTMLDivElement | null>;\n  arrowOffset?: number;\n  events?: { hover: boolean; focus: boolean; touch: boolean };\n  positionDependencies: any[];\n  inline?: boolean;\n  strategy?: FloatingStrategy;\n  middlewares?: TooltipMiddlewares;\n}\n\nfunction getDefaultMiddlewares(middlewares: TooltipMiddlewares | undefined): TooltipMiddlewares {\n  if (middlewares === undefined) {\n    return { shift: true, flip: true };\n  }\n\n  const result = { ...middlewares };\n  if (middlewares.shift === undefined) {\n    result.shift = true;\n  }\n\n  if (middlewares.flip === undefined) {\n    result.flip = true;\n  }\n\n  return result;\n}\n\nfunction getTooltipMiddlewares(settings: UseTooltip) {\n  const middlewaresOptions = getDefaultMiddlewares(settings.middlewares);\n  const middlewares: Middleware[] = [offset(settings.offset)];\n\n  if (middlewaresOptions.shift) {\n    middlewares.push(\n      shift(\n        typeof middlewaresOptions.shift === 'boolean'\n          ? { padding: 8 }\n          : { padding: 8, ...middlewaresOptions.shift }\n      )\n    );\n  }\n\n  if (middlewaresOptions.flip) {\n    middlewares.push(\n      typeof middlewaresOptions.flip === 'boolean' ? flip() : flip(middlewaresOptions.flip)\n    );\n  }\n\n  middlewares.push(arrow({ element: settings.arrowRef!, padding: settings.arrowOffset }));\n\n  if (middlewaresOptions.inline) {\n    middlewares.push(\n      typeof middlewaresOptions.inline === 'boolean' ? inline() : inline(middlewaresOptions.inline)\n    );\n  } else if (settings.inline) {\n    middlewares.push(inline());\n  }\n\n  return middlewares;\n}\n\nexport function useTooltip(settings: UseTooltip) {\n  const [uncontrolledOpened, setUncontrolledOpened] = useState(settings.defaultOpened);\n  const controlled = typeof settings.opened === 'boolean';\n  const opened = controlled ? settings.opened : uncontrolledOpened;\n  const withinGroup = useTooltipGroupContext();\n  const uid = useId();\n\n  const onChange = useCallback(\n    (_opened: boolean) => {\n      setUncontrolledOpened(_opened);\n\n      if (_opened) {\n        setCurrentId(uid);\n      }\n    },\n    [uid]\n  );\n\n  const {\n    x,\n    y,\n    context,\n    refs,\n    placement,\n    middlewareData: { arrow: { x: arrowX, y: arrowY } = {} },\n  } = useFloating({\n    strategy: settings.strategy,\n    placement: settings.position,\n    open: opened,\n    onOpenChange: onChange,\n    middleware: getTooltipMiddlewares(settings),\n    whileElementsMounted: autoUpdate,\n  });\n\n  const { delay: groupDelay, currentId, setCurrentId } = useDelayGroup(context, { id: uid });\n\n  const { getReferenceProps, getFloatingProps } = useInteractions([\n    useHover(context, {\n      enabled: settings.events?.hover,\n      delay: withinGroup ? groupDelay : { open: settings.openDelay, close: settings.closeDelay },\n      mouseOnly: !settings.events?.touch,\n    }),\n    useFocus(context, { enabled: settings.events?.focus, visibleOnly: true }),\n    useRole(context, { role: 'tooltip' }),\n    // Cannot be used with controlled tooltip, page jumps\n    useDismiss(context, { enabled: typeof settings.opened === 'undefined' }),\n  ]);\n\n  useDidUpdate(() => {\n    settings.onPositionChange?.(placement);\n  }, [placement]);\n\n  const isGroupPhase = opened && currentId && currentId !== uid;\n\n  return {\n    x,\n    y,\n    arrowX,\n    arrowY,\n    reference: refs.setReference,\n    floating: refs.setFloating,\n    getFloatingProps,\n    getReferenceProps,\n    isGroupPhase,\n    opened,\n    placement,\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}