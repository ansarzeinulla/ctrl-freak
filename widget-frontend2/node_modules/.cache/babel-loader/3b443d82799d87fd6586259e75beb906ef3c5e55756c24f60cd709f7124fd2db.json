{"ast":null,"code":"'use client';\n\nimport { useState, useRef, useCallback, useEffect } from 'react';\nimport { useFloating, shift, getOverflowAncestors } from '@floating-ui/react';\nfunction useFloatingTooltip(_ref) {\n  let {\n    offset,\n    position,\n    defaultOpened\n  } = _ref;\n  const [opened, setOpened] = useState(defaultOpened);\n  const boundaryRef = useRef(null);\n  const {\n    x,\n    y,\n    elements,\n    refs,\n    update,\n    placement\n  } = useFloating({\n    placement: position,\n    middleware: [shift({\n      crossAxis: true,\n      padding: 5,\n      rootBoundary: \"document\"\n    })]\n  });\n  const horizontalOffset = placement.includes(\"right\") ? offset : position.includes(\"left\") ? offset * -1 : 0;\n  const verticalOffset = placement.includes(\"bottom\") ? offset : position.includes(\"top\") ? offset * -1 : 0;\n  const handleMouseMove = useCallback(_ref2 => {\n    let {\n      clientX,\n      clientY\n    } = _ref2;\n    refs.setPositionReference({\n      getBoundingClientRect() {\n        return {\n          width: 0,\n          height: 0,\n          x: clientX,\n          y: clientY,\n          left: clientX + horizontalOffset,\n          top: clientY + verticalOffset,\n          right: clientX,\n          bottom: clientY\n        };\n      }\n    });\n  }, [elements.reference]);\n  useEffect(() => {\n    if (refs.floating.current) {\n      const boundary = boundaryRef.current;\n      boundary.addEventListener(\"mousemove\", handleMouseMove);\n      const parents = getOverflowAncestors(refs.floating.current);\n      parents.forEach(parent => {\n        parent.addEventListener(\"scroll\", update);\n      });\n      return () => {\n        boundary.removeEventListener(\"mousemove\", handleMouseMove);\n        parents.forEach(parent => {\n          parent.removeEventListener(\"scroll\", update);\n        });\n      };\n    }\n    return void 0;\n  }, [elements.reference, refs.floating.current, update, handleMouseMove, opened]);\n  return {\n    handleMouseMove,\n    x,\n    y,\n    opened,\n    setOpened,\n    boundaryRef,\n    floating: refs.setFloating\n  };\n}\nexport { useFloatingTooltip };","map":{"version":3,"names":["useFloatingTooltip","_ref","offset","position","defaultOpened","opened","setOpened","useState","boundaryRef","useRef","x","y","elements","refs","update","placement","useFloating","middleware","shift","crossAxis","padding","rootBoundary","horizontalOffset","includes","verticalOffset","handleMouseMove","useCallback","_ref2","clientX","clientY","setPositionReference","getBoundingClientRect","width","height","left","top","right","bottom","reference","useEffect","floating","current","boundary","addEventListener","parents","getOverflowAncestors","forEach","parent","removeEventListener","setFloating"],"sources":["/Users/ansarzeinulla/Desktop/negro/widget-frontend/node_modules/@mantine/core/src/components/Tooltip/TooltipFloating/use-floating-tooltip.ts"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport { getOverflowAncestors, shift, useFloating } from '@floating-ui/react';\nimport { FloatingPosition } from '../../../utils/Floating';\n\ninterface UseFloatingTooltip {\n  offset: number;\n  position: FloatingPosition;\n  defaultOpened?: boolean;\n}\n\nexport function useFloatingTooltip<T extends HTMLElement = any>({\n  offset,\n  position,\n  defaultOpened,\n}: UseFloatingTooltip) {\n  const [opened, setOpened] = useState(defaultOpened);\n  const boundaryRef = useRef<T>(null);\n  const { x, y, elements, refs, update, placement } = useFloating({\n    placement: position,\n    middleware: [\n      shift({\n        crossAxis: true,\n        padding: 5,\n        rootBoundary: 'document',\n      }),\n    ],\n  });\n\n  const horizontalOffset = placement.includes('right')\n    ? offset\n    : position.includes('left')\n      ? offset * -1\n      : 0;\n\n  const verticalOffset = placement.includes('bottom')\n    ? offset\n    : position.includes('top')\n      ? offset * -1\n      : 0;\n\n  const handleMouseMove = useCallback(\n    ({ clientX, clientY }: MouseEvent | React.MouseEvent<T, MouseEvent>) => {\n      refs.setPositionReference({\n        getBoundingClientRect() {\n          return {\n            width: 0,\n            height: 0,\n            x: clientX,\n            y: clientY,\n            left: clientX + horizontalOffset,\n            top: clientY + verticalOffset,\n            right: clientX,\n            bottom: clientY,\n          };\n        },\n      });\n    },\n    [elements.reference]\n  );\n\n  useEffect(() => {\n    if (refs.floating.current) {\n      const boundary = boundaryRef.current!;\n      boundary.addEventListener('mousemove', handleMouseMove);\n\n      const parents = getOverflowAncestors(refs.floating.current);\n      parents.forEach((parent) => {\n        parent.addEventListener('scroll', update);\n      });\n\n      return () => {\n        boundary.removeEventListener('mousemove', handleMouseMove);\n        parents.forEach((parent) => {\n          parent.removeEventListener('scroll', update);\n        });\n      };\n    }\n\n    return undefined;\n  }, [elements.reference, refs.floating.current, update, handleMouseMove, opened]);\n\n  return { handleMouseMove, x, y, opened, setOpened, boundaryRef, floating: refs.setFloating };\n}\n"],"mappings":";;;;AAUO,SAASA,mBAAAC,IAAA,EAIO;EAAA,IAJyC;IAC9DC,MAAA;IACAC,QAAA;IACAC;EACF,IAAAH,IAAA;EACE,MAAM,CAACI,MAAA,EAAQC,SAAS,IAAIC,QAAA,CAASH,aAAa;EAClD,MAAMI,WAAA,GAAcC,MAAA,CAAU,IAAI;EAClC,MAAM;IAAEC,CAAA;IAAGC,CAAA;IAAGC,QAAA;IAAUC,IAAA;IAAMC,MAAA;IAAQC;EAAA,IAAcC,WAAA,CAAY;IAC9DD,SAAA,EAAWZ,QAAA;IACXc,UAAA,EAAY,CACVC,KAAA,CAAM;MACJC,SAAA,EAAW;MACXC,OAAA,EAAS;MACTC,YAAA,EAAc;IAAA,CACf;EACH,CACD;EAED,MAAMC,gBAAA,GAAmBP,SAAA,CAAUQ,QAAA,CAAS,OAAO,IAC/CrB,MAAA,GACAC,QAAA,CAASoB,QAAA,CAAS,MAAM,IACtBrB,MAAA,GAAS,KACT;EAEN,MAAMsB,cAAA,GAAiBT,SAAA,CAAUQ,QAAA,CAAS,QAAQ,IAC9CrB,MAAA,GACAC,QAAA,CAASoB,QAAA,CAAS,KAAK,IACrBrB,MAAA,GAAS,KACT;EAEN,MAAMuB,eAAA,GAAkBC,WAAA,CACtBC,KAAA,IAAwE;IAAA,IAAvE;MAAEC,OAAA;MAASC;IAAA,CAAQ,GAAAF,KAAA;IAClBd,IAAA,CAAKiB,oBAAA,CAAqB;MACxBC,sBAAA,EAAwB;QACtB,OAAO;UACLC,KAAA,EAAO;UACPC,MAAA,EAAQ;UACRvB,CAAA,EAAGkB,OAAA;UACHjB,CAAA,EAAGkB,OAAA;UACHK,IAAA,EAAMN,OAAA,GAAUN,gBAAA;UAChBa,GAAA,EAAKN,OAAA,GAAUL,cAAA;UACfY,KAAA,EAAOR,OAAA;UACPS,MAAA,EAAQR;QAAA,CACV;MACF;IAAA,CACD;EACH,GACA,CAACjB,QAAA,CAAS0B,SAAS,EACrB;EAEAC,SAAA,CAAU,MAAM;IACd,IAAI1B,IAAA,CAAK2B,QAAA,CAASC,OAAA,EAAS;MACzB,MAAMC,QAAA,GAAWlC,WAAA,CAAYiC,OAAA;MAC7BC,QAAA,CAASC,gBAAA,CAAiB,aAAalB,eAAe;MAEtD,MAAMmB,OAAA,GAAUC,oBAAA,CAAqBhC,IAAA,CAAK2B,QAAA,CAASC,OAAO;MAC1DG,OAAA,CAAQE,OAAA,CAASC,MAAA,IAAW;QAC1BA,MAAA,CAAOJ,gBAAA,CAAiB,UAAU7B,MAAM;MAC1C,CAAC;MAED,OAAO,MAAM;QACX4B,QAAA,CAASM,mBAAA,CAAoB,aAAavB,eAAe;QACzDmB,OAAA,CAAQE,OAAA,CAASC,MAAA,IAAW;UAC1BA,MAAA,CAAOC,mBAAA,CAAoB,UAAUlC,MAAM;QAC7C,CAAC;MACH;IACF;IAEA,OAAO;EACT,GAAG,CAACF,QAAA,CAAS0B,SAAA,EAAWzB,IAAA,CAAK2B,QAAA,CAASC,OAAA,EAAS3B,MAAA,EAAQW,eAAA,EAAiBpB,MAAM,CAAC;EAE/E,OAAO;IAAEoB,eAAA;IAAiBf,CAAA;IAAGC,CAAA;IAAGN,MAAA;IAAQC,SAAA;IAAWE,WAAA;IAAagC,QAAA,EAAU3B,IAAA,CAAKoC;EAAA,CAAY;AAC7F","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}