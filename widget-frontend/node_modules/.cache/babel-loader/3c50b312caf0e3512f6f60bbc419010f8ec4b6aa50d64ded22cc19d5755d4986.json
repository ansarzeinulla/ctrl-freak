{"ast":null,"code":"'use client';\n\nimport { useRef, useCallback, useEffect } from 'react';\nimport { useCallbackRef } from '../utils/use-callback-ref/use-callback-ref.mjs';\nfunction useThrottledCallbackWithClearTimeout(callback, wait) {\n  const handleCallback = useCallbackRef(callback);\n  const latestInArgsRef = useRef(null);\n  const latestOutArgsRef = useRef(null);\n  const active = useRef(true);\n  const waitRef = useRef(wait);\n  const timeoutRef = useRef(-1);\n  const clearTimeout = () => window.clearTimeout(timeoutRef.current);\n  const callThrottledCallback = useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    handleCallback(...args);\n    latestInArgsRef.current = args;\n    latestOutArgsRef.current = args;\n    active.current = false;\n  }, [handleCallback]);\n  const timerCallback = useCallback(() => {\n    if (latestInArgsRef.current && latestInArgsRef.current !== latestOutArgsRef.current) {\n      callThrottledCallback(...latestInArgsRef.current);\n      timeoutRef.current = window.setTimeout(timerCallback, waitRef.current);\n    } else {\n      active.current = true;\n    }\n  }, [callThrottledCallback]);\n  const throttled = useCallback(function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    if (active.current) {\n      callThrottledCallback(...args);\n      timeoutRef.current = window.setTimeout(timerCallback, waitRef.current);\n    } else {\n      latestInArgsRef.current = args;\n    }\n  }, [callThrottledCallback, timerCallback]);\n  useEffect(() => {\n    waitRef.current = wait;\n  }, [wait]);\n  return [throttled, clearTimeout];\n}\nfunction useThrottledCallback(callback, wait) {\n  return useThrottledCallbackWithClearTimeout(callback, wait)[0];\n}\nexport { useThrottledCallback, useThrottledCallbackWithClearTimeout };","map":{"version":3,"names":["useThrottledCallbackWithClearTimeout","callback","wait","handleCallback","useCallbackRef","latestInArgsRef","useRef","latestOutArgsRef","active","waitRef","timeoutRef","clearTimeout","window","current","callThrottledCallback","useCallback","_len","arguments","length","args","Array","_key","timerCallback","setTimeout","throttled","_len2","_key2","useEffect","useThrottledCallback"],"sources":["/Users/ansarzeinulla/Desktop/ctrl-freak/widget-frontend/node_modules/@mantine/hooks/src/use-throttled-callback/use-throttled-callback.ts"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nimport { useCallbackRef } from '../utils';\n\nexport function useThrottledCallbackWithClearTimeout<T extends (...args: any[]) => any>(\n  callback: T,\n  wait: number\n) {\n  const handleCallback = useCallbackRef(callback);\n  const latestInArgsRef = useRef<Parameters<T>>(null);\n  const latestOutArgsRef = useRef<Parameters<T>>(null);\n  const active = useRef(true);\n  const waitRef = useRef(wait);\n  const timeoutRef = useRef<number>(-1);\n\n  const clearTimeout = () => window.clearTimeout(timeoutRef.current);\n\n  const callThrottledCallback = useCallback(\n    (...args: Parameters<T>) => {\n      handleCallback(...args);\n      latestInArgsRef.current = args;\n      latestOutArgsRef.current = args;\n      active.current = false;\n    },\n    [handleCallback]\n  );\n\n  const timerCallback = useCallback(() => {\n    if (latestInArgsRef.current && latestInArgsRef.current !== latestOutArgsRef.current) {\n      callThrottledCallback(...latestInArgsRef.current);\n\n      timeoutRef.current = window.setTimeout(timerCallback, waitRef.current);\n    } else {\n      active.current = true;\n    }\n  }, [callThrottledCallback]);\n\n  const throttled = useCallback(\n    (...args: Parameters<T>) => {\n      if (active.current) {\n        callThrottledCallback(...args);\n        timeoutRef.current = window.setTimeout(timerCallback, waitRef.current);\n      } else {\n        latestInArgsRef.current = args;\n      }\n    },\n    [callThrottledCallback, timerCallback]\n  );\n\n  useEffect(() => {\n    waitRef.current = wait;\n  }, [wait]);\n\n  return [throttled, clearTimeout] as const;\n}\n\nexport function useThrottledCallback<T extends (...args: any[]) => any>(callback: T, wait: number) {\n  return useThrottledCallbackWithClearTimeout(callback, wait)[0];\n}\n"],"mappings":";;;;AAGO,SAASA,qCACdC,QAAA,EACAC,IAAA,EACA;EACA,MAAMC,cAAA,GAAiBC,cAAA,CAAeH,QAAQ;EAC9C,MAAMI,eAAA,GAAkBC,MAAA,CAAsB,IAAI;EAClD,MAAMC,gBAAA,GAAmBD,MAAA,CAAsB,IAAI;EACnD,MAAME,MAAA,GAASF,MAAA,CAAO,IAAI;EAC1B,MAAMG,OAAA,GAAUH,MAAA,CAAOJ,IAAI;EAC3B,MAAMQ,UAAA,GAAaJ,MAAA,CAAe,EAAE;EAEpC,MAAMK,YAAA,GAAeA,CAAA,KAAMC,MAAA,CAAOD,YAAA,CAAaD,UAAA,CAAWG,OAAO;EAEjE,MAAMC,qBAAA,GAAwBC,WAAA,CAC5B,YAA4B;IAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAxBC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IACFlB,cAAA,CAAe,GAAGgB,IAAI;IACtBd,eAAA,CAAgBQ,OAAA,GAAUM,IAAA;IAC1BZ,gBAAA,CAAiBM,OAAA,GAAUM,IAAA;IAC3BX,MAAA,CAAOK,OAAA,GAAU;EACnB,GACA,CAACV,cAAc,EACjB;EAEA,MAAMmB,aAAA,GAAgBP,WAAA,CAAY,MAAM;IACtC,IAAIV,eAAA,CAAgBQ,OAAA,IAAWR,eAAA,CAAgBQ,OAAA,KAAYN,gBAAA,CAAiBM,OAAA,EAAS;MACnFC,qBAAA,CAAsB,GAAGT,eAAA,CAAgBQ,OAAO;MAEhDH,UAAA,CAAWG,OAAA,GAAUD,MAAA,CAAOW,UAAA,CAAWD,aAAA,EAAeb,OAAA,CAAQI,OAAO;IACvE,OAAO;MACLL,MAAA,CAAOK,OAAA,GAAU;IACnB;EACF,GAAG,CAACC,qBAAqB,CAAC;EAE1B,MAAMU,SAAA,GAAYT,WAAA,CAChB,YAA4B;IAAA,SAAAU,KAAA,GAAAR,SAAA,CAAAC,MAAA,EAAxBC,IAAA,OAAAC,KAAA,CAAAK,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;MAAAP,IAAA,CAAAO,KAAA,IAAAT,SAAA,CAAAS,KAAA;IAAA;IACF,IAAIlB,MAAA,CAAOK,OAAA,EAAS;MAClBC,qBAAA,CAAsB,GAAGK,IAAI;MAC7BT,UAAA,CAAWG,OAAA,GAAUD,MAAA,CAAOW,UAAA,CAAWD,aAAA,EAAeb,OAAA,CAAQI,OAAO;IACvE,OAAO;MACLR,eAAA,CAAgBQ,OAAA,GAAUM,IAAA;IAC5B;EACF,GACA,CAACL,qBAAA,EAAuBQ,aAAa,EACvC;EAEAK,SAAA,CAAU,MAAM;IACdlB,OAAA,CAAQI,OAAA,GAAUX,IAAA;EACpB,GAAG,CAACA,IAAI,CAAC;EAET,OAAO,CAACsB,SAAA,EAAWb,YAAY;AACjC;AAEO,SAASiB,qBAAwD3B,QAAA,EAAaC,IAAA,EAAc;EACjG,OAAOF,oCAAA,CAAqCC,QAAA,EAAUC,IAAI,EAAE,CAAC;AAC/D","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}