{"ast":null,"code":"'use client';\n\nimport _objectSpread from \"/Users/ansarzeinulla/Desktop/ctrl-freak/widget-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { useState, useRef, useCallback } from 'react';\nimport { useIsomorphicEffect } from '../use-isomorphic-effect/use-isomorphic-effect.mjs';\nconst defaultOptions = {\n  multiple: true,\n  accept: \"*\"\n};\nfunction getInitialFilesList(files) {\n  if (!files) {\n    return null;\n  }\n  if (files instanceof FileList) {\n    return files;\n  }\n  const result = new DataTransfer();\n  for (const file of files) {\n    result.items.add(file);\n  }\n  return result.files;\n}\nfunction createInput(options) {\n  if (typeof document === \"undefined\") {\n    return null;\n  }\n  const input = document.createElement(\"input\");\n  input.type = \"file\";\n  if (options.accept) {\n    input.accept = options.accept;\n  }\n  if (options.multiple) {\n    input.multiple = options.multiple;\n  }\n  if (options.capture) {\n    input.capture = options.capture;\n  }\n  if (options.directory) {\n    input.webkitdirectory = options.directory;\n  }\n  input.style.display = \"none\";\n  return input;\n}\nfunction useFileDialog() {\n  let input = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const options = _objectSpread(_objectSpread({}, defaultOptions), input);\n  const [files, setFiles] = useState(getInitialFilesList(options.initialFiles));\n  const inputRef = useRef(null);\n  const handleChange = useCallback(event => {\n    const target = event.target;\n    if (target !== null && target !== void 0 && target.files) {\n      var _options$onChange;\n      setFiles(target.files);\n      (_options$onChange = options.onChange) === null || _options$onChange === void 0 || _options$onChange.call(options, target.files);\n    }\n  }, [options.onChange]);\n  const createAndSetupInput = useCallback(() => {\n    var _inputRef$current;\n    (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 || _inputRef$current.remove();\n    inputRef.current = createInput(options);\n    if (inputRef.current) {\n      inputRef.current.addEventListener(\"change\", handleChange, {\n        once: true\n      });\n      document.body.appendChild(inputRef.current);\n    }\n  }, [options, handleChange]);\n  useIsomorphicEffect(() => {\n    createAndSetupInput();\n    return () => {\n      var _inputRef$current2;\n      return (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.remove();\n    };\n  }, []);\n  const reset = useCallback(() => {\n    var _options$onChange2;\n    setFiles(null);\n    (_options$onChange2 = options.onChange) === null || _options$onChange2 === void 0 || _options$onChange2.call(options, null);\n  }, [options.onChange]);\n  const open = useCallback(() => {\n    var _inputRef$current3;\n    if (options.resetOnOpen) {\n      reset();\n    }\n    createAndSetupInput();\n    (_inputRef$current3 = inputRef.current) === null || _inputRef$current3 === void 0 || _inputRef$current3.click();\n  }, [options.resetOnOpen, reset, createAndSetupInput]);\n  return {\n    files,\n    open,\n    reset\n  };\n}\nexport { useFileDialog };","map":{"version":3,"names":["defaultOptions","multiple","accept","getInitialFilesList","files","FileList","result","DataTransfer","file","items","add","createInput","options","document","input","createElement","type","capture","directory","webkitdirectory","style","display","useFileDialog","arguments","length","undefined","_objectSpread","setFiles","useState","initialFiles","inputRef","useRef","handleChange","useCallback","event","target","_options$onChange","onChange","call","createAndSetupInput","_inputRef$current","current","remove","addEventListener","once","body","appendChild","useIsomorphicEffect","_inputRef$current2","reset","_options$onChange2","open","_inputRef$current3","resetOnOpen","click"],"sources":["/Users/ansarzeinulla/Desktop/ctrl-freak/widget-frontend/node_modules/@mantine/hooks/src/use-file-dialog/use-file-dialog.ts"],"sourcesContent":["import { useCallback, useRef, useState } from 'react';\nimport { useIsomorphicEffect } from '../use-isomorphic-effect/use-isomorphic-effect';\n\nexport interface UseFileDialogOptions {\n  /** Determines whether multiple files are allowed, `true` by default */\n  multiple?: boolean;\n\n  /** `accept` attribute of the file input, '*' by default */\n  accept?: string;\n\n  /** `capture` attribute of the file input */\n  capture?: string;\n\n  /** Determines whether the user can pick a directory instead of file, `false` by default */\n  directory?: boolean;\n\n  /** Determines whether the file input state should be reset when the file dialog is opened, `false` by default */\n  resetOnOpen?: boolean;\n\n  /** Initial selected files */\n  initialFiles?: FileList | File[];\n\n  /** Called when files are selected */\n  onChange?: (files: FileList | null) => void;\n\n  /** Called when file dialog is canceled */\n  onCancel?: () => void;\n}\n\nconst defaultOptions: UseFileDialogOptions = {\n  multiple: true,\n  accept: '*',\n};\n\nfunction getInitialFilesList(files: UseFileDialogOptions['initialFiles']): FileList | null {\n  if (!files) {\n    return null;\n  }\n\n  if (files instanceof FileList) {\n    return files;\n  }\n\n  const result = new DataTransfer();\n  for (const file of files) {\n    result.items.add(file);\n  }\n\n  return result.files;\n}\n\nfunction createInput(options: UseFileDialogOptions) {\n  if (typeof document === 'undefined') {\n    return null;\n  }\n\n  const input = document.createElement('input');\n  input.type = 'file';\n\n  if (options.accept) {\n    input.accept = options.accept;\n  }\n\n  if (options.multiple) {\n    input.multiple = options.multiple;\n  }\n\n  if (options.capture) {\n    input.capture = options.capture;\n  }\n\n  if (options.directory) {\n    input.webkitdirectory = options.directory;\n  }\n\n  input.style.display = 'none';\n  return input;\n}\n\nexport interface UseFileDialogReturnValue {\n  files: FileList | null;\n  open: () => void;\n  reset: () => void;\n}\n\nexport function useFileDialog(input: UseFileDialogOptions = {}): UseFileDialogReturnValue {\n  const options: UseFileDialogOptions = { ...defaultOptions, ...input };\n  const [files, setFiles] = useState<FileList | null>(getInitialFilesList(options.initialFiles));\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  const handleChange = useCallback(\n    (event: Event) => {\n      const target = event.target as HTMLInputElement;\n      if (target?.files) {\n        setFiles(target.files);\n        options.onChange?.(target.files);\n      }\n    },\n    [options.onChange]\n  );\n\n  const createAndSetupInput = useCallback(() => {\n    inputRef.current?.remove();\n    inputRef.current = createInput(options);\n\n    if (inputRef.current) {\n      inputRef.current.addEventListener('change', handleChange, { once: true });\n      document.body.appendChild(inputRef.current);\n    }\n  }, [options, handleChange]);\n\n  useIsomorphicEffect(() => {\n    createAndSetupInput();\n    return () => inputRef.current?.remove();\n  }, []);\n\n  const reset = useCallback(() => {\n    setFiles(null);\n    options.onChange?.(null);\n  }, [options.onChange]);\n\n  const open = useCallback(() => {\n    if (options.resetOnOpen) {\n      reset();\n    }\n\n    createAndSetupInput();\n    inputRef.current?.click();\n  }, [options.resetOnOpen, reset, createAndSetupInput]);\n\n  return { files, open, reset };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}