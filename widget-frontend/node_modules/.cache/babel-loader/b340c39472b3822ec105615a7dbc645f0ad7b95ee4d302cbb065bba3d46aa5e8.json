{"ast":null,"code":"'use client';\n\nimport { useIsomorphicEffect } from '@mantine/hooks';\nfunction dispatchEvent(type, detail) {\n  window.dispatchEvent(new CustomEvent(type, {\n    detail\n  }));\n}\nfunction createUseExternalEvents(prefix) {\n  function _useExternalEvents(events) {\n    const handlers = Object.keys(events).reduce((acc, eventKey) => {\n      acc[\"\".concat(prefix, \":\").concat(eventKey)] = event => events[eventKey](event.detail);\n      return acc;\n    }, {});\n    useIsomorphicEffect(() => {\n      Object.keys(handlers).forEach(eventKey => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n      return () => Object.keys(handlers).forEach(eventKey => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n      });\n    }, [handlers]);\n  }\n  function createEvent(event) {\n    return function () {\n      return dispatchEvent(\"\".concat(prefix, \":\").concat(String(event)), arguments.length <= 0 ? undefined : arguments[0]);\n    };\n  }\n  return [_useExternalEvents, createEvent];\n}\nexport { createUseExternalEvents };","map":{"version":3,"names":["dispatchEvent","type","detail","window","CustomEvent","createUseExternalEvents","prefix","_useExternalEvents","events","handlers","Object","keys","reduce","acc","eventKey","concat","event","useIsomorphicEffect","forEach","removeEventListener","addEventListener","createEvent","String","arguments","length","undefined"],"sources":["/Users/ansarzeinulla/Desktop/ctrl-freak/widget-frontend/node_modules/@mantine/core/src/core/utils/create-use-external-events/create-use-external-events.ts"],"sourcesContent":["import { useIsomorphicEffect } from '@mantine/hooks';\n\nfunction dispatchEvent<T>(type: string, detail?: T) {\n  window.dispatchEvent(new CustomEvent(type, { detail }));\n}\n\nexport function createUseExternalEvents<Handlers extends Record<string, (detail: any) => void>>(\n  prefix: string\n) {\n  function _useExternalEvents(events: Handlers) {\n    const handlers = Object.keys(events).reduce<any>((acc, eventKey) => {\n      acc[`${prefix}:${eventKey}`] = (event: CustomEvent) => events[eventKey](event.detail);\n      return acc;\n    }, {});\n\n    useIsomorphicEffect(() => {\n      Object.keys(handlers).forEach((eventKey) => {\n        window.removeEventListener(eventKey, handlers[eventKey]);\n        window.addEventListener(eventKey, handlers[eventKey]);\n      });\n\n      return () =>\n        Object.keys(handlers).forEach((eventKey) => {\n          window.removeEventListener(eventKey, handlers[eventKey]);\n        });\n    }, [handlers]);\n  }\n\n  function createEvent<EventKey extends keyof Handlers>(event: EventKey) {\n    type Parameter = Parameters<Handlers[EventKey]>[0];\n\n    return (...payload: Parameter extends undefined ? [undefined?] : [Parameter]) =>\n      dispatchEvent(`${prefix}:${String(event)}`, payload[0]);\n  }\n\n  return [_useExternalEvents, createEvent] as const;\n}\n"],"mappings":";;;AAEA,SAASA,cAAiBC,IAAA,EAAcC,MAAA,EAAY;EAClDC,MAAA,CAAOH,aAAA,CAAc,IAAII,WAAA,CAAYH,IAAA,EAAM;IAAEC;EAAA,CAAQ,CAAC;AACxD;AAEO,SAASG,wBACdC,MAAA,EACA;EACA,SAASC,mBAAmBC,MAAA,EAAkB;IAC5C,MAAMC,QAAA,GAAWC,MAAA,CAAOC,IAAA,CAAKH,MAAM,EAAEI,MAAA,CAAY,CAACC,GAAA,EAAKC,QAAA,KAAa;MAClED,GAAA,IAAAE,MAAA,CAAOT,MAAM,OAAAS,MAAA,CAAID,QAAQ,EAAE,GAAKE,KAAA,IAAuBR,MAAA,CAAOM,QAAQ,EAAEE,KAAA,CAAMd,MAAM;MACpF,OAAOW,GAAA;IACT,GAAG,EAAE;IAELI,mBAAA,CAAoB,MAAM;MACxBP,MAAA,CAAOC,IAAA,CAAKF,QAAQ,EAAES,OAAA,CAASJ,QAAA,IAAa;QAC1CX,MAAA,CAAOgB,mBAAA,CAAoBL,QAAA,EAAUL,QAAA,CAASK,QAAQ,CAAC;QACvDX,MAAA,CAAOiB,gBAAA,CAAiBN,QAAA,EAAUL,QAAA,CAASK,QAAQ,CAAC;MACtD,CAAC;MAED,OAAO,MACLJ,MAAA,CAAOC,IAAA,CAAKF,QAAQ,EAAES,OAAA,CAASJ,QAAA,IAAa;QAC1CX,MAAA,CAAOgB,mBAAA,CAAoBL,QAAA,EAAUL,QAAA,CAASK,QAAQ,CAAC;MACzD,CAAC;IACL,GAAG,CAACL,QAAQ,CAAC;EACf;EAEA,SAASY,YAA6CL,KAAA,EAAiB;IAGrE,OAAO;MAAA,OACLhB,aAAA,IAAAe,MAAA,CAAiBT,MAAM,OAAAS,MAAA,CAAIO,MAAA,CAAON,KAAK,CAAC,GAAAO,SAAA,CAAAC,MAAA,QAAAC,SAAA,GAAAF,SAAA,GAAc;IAAA;EAC1D;EAEA,OAAO,CAAChB,kBAAA,EAAoBc,WAAW;AACzC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}